<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Charles Grassi | Graphics Programmer & Technical Artist</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600&family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        :root {
            --bg-primary: #0a0f14;
            --bg-secondary: #111921;
            --bg-card: #151d26;
            --accent-gold: #e8b923;
            --accent-gold-dim: #c49a1a;
            --accent-teal: #2dd4bf;
            --text-primary: #e8eaed;
            --text-secondary: #9ca3af;
            --text-muted: #6b7280;
            --border-color: #1f2937;
            --gradient-mesh: radial-gradient(ellipse at 20% 0%, rgba(232, 185, 35, 0.08) 0%, transparent 50%), radial-gradient(ellipse at 80% 100%, rgba(45, 212, 191, 0.05) 0%, transparent 50%);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Outfit', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
        }

        #gpu-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }

        .contact-btn {
            position: fixed;
            top: 2rem;
            right: 2rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            background: linear-gradient(135deg, var(--accent-gold) 0%, var(--accent-gold-dim) 100%);
            border: none;
            border-radius: 6px;
            color: var(--bg-primary);
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.8rem;
            font-weight: 600;
            text-decoration: none;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 100;
            box-shadow: 0 4px 15px rgba(232, 185, 35, 0.3);
        }

            .contact-btn:hover {
                transform: translateY(-2px);
                box-shadow: 0 6px 25px rgba(232, 185, 35, 0.5);
            }

            .contact-btn:active {
                transform: translateY(0);
            }

            .contact-btn svg {
                width: 16px;
                height: 16px;
            }

        @media print {
            .contact-btn {
                display: none !important;
            }
        }

        @media (max-width: 900px) {
            .contact-btn {
                top: 1rem;
                right: 1rem;
                padding: 0.6rem 1rem;
                font-size: 0.75rem;
            }
        }

        .noise-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            opacity: 0.03;
            z-index: 1000;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 2rem 1.5rem;
            background: transparent;
            height: 100vh;
            display: flex;
            flex-direction: column;
            position: relative;
            overflow: hidden;
        }

            .container::before {
                content: '';
                position: absolute;
                top: 0;
                left: 50%;
                transform: translateX(-50%);
                width: 100vw;
                height: 100%;
                background: radial-gradient(ellipse at 20% 0%, rgba(232, 185, 35, 0.06) 0%, transparent 50%), radial-gradient(ellipse at 80% 50%, rgba(45, 212, 191, 0.04) 0%, transparent 50%);
                pointer-events: none;
                z-index: -1;
            }

        /* Header */
        header {
            display: grid;
            grid-template-columns: 1fr auto;
            gap: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 1rem;
            animation: fadeInUp 0.6s ease-out;
            flex-shrink: 0;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .name-block h1 {
            font-size: 3rem;
            font-weight: 700;
            letter-spacing: -0.03em;
            line-height: 1;
            margin-bottom: 0.4rem;
            background: linear-gradient(135deg, var(--accent-gold) 0%, var(--accent-gold-dim) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .tagline {
            font-size: 0.95rem;
            color: var(--text-secondary);
            margin-top: 0.5rem;
            font-weight: 300;
        }

        .titles {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 0.75rem;
        }

        .title-tag {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.75rem;
            font-weight: 500;
            padding: 0.4rem 0.8rem;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            color: var(--text-secondary);
            letter-spacing: 0.05em;
            text-transform: uppercase;
        }

            .title-tag.highlight {
                border-color: var(--accent-gold);
                color: var(--accent-gold);
            }

        .contact-block {
            text-align: right;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
        }

            .contact-block a {
                color: var(--text-secondary);
                text-decoration: none;
                display: block;
                padding: 0.3rem 0;
                transition: color 0.2s ease;
            }

                .contact-block a:hover {
                    color: var(--accent-teal);
                }

            .contact-block .company {
                color: var(--accent-gold);
                font-weight: 500;
                margin-bottom: 0.5rem;
            }

        .languages {
            margin-top: 1rem;
            display: flex;
            gap: 0.5rem;
            justify-content: flex-end;
        }

        .lang {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            border: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.65rem;
            font-weight: 600;
            color: var(--text-muted);
        }

        /* Reveal Animations */
        @keyframes skillReveal {
            0% {
                opacity: 0;
                transform: scale(0.8);
                filter: brightness(1);
                box-shadow: none;
            }
            50% {
                filter: brightness(1.8);
                box-shadow: 0 0 20px rgba(45, 212, 191, 0.6);
            }
            100% {
                opacity: 1;
                transform: scale(1);
                filter: brightness(1);
                box-shadow: none;
            }
        }

        @keyframes skillRevealGold {
            0% {
                opacity: 0;
                transform: scale(0.8);
                filter: brightness(1);
                box-shadow: none;
            }
            50% {
                filter: brightness(2);
                box-shadow: 0 0 25px rgba(232, 185, 35, 0.7);
            }
            100% {
                opacity: 1;
                transform: scale(1);
                filter: brightness(1);
                box-shadow: none;
            }
        }

        /* Summary Section with Stats */
        .summary-row {
            display: flex;
            gap: 1.5rem;
            margin-bottom: 1rem;
            align-items: stretch;
            flex-shrink: 0;
        }

        .summary {
            flex: 1;
            background: rgba(21, 29, 38, 0.6);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1rem;
        }

        .stats-bar {
            display: flex;
            flex-direction: column;
            justify-content: center;
            gap: 0.75rem;
            padding: 1rem 1.5rem;
            background: rgba(21, 29, 38, 0.6);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            animation: fadeInUp 0.6s ease-out 0.15s backwards;
        }

        .stat-item {
            display: flex;
            align-items: baseline;
            gap: 0.5rem;
        }

        .stat-number {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--accent-gold);
            line-height: 1;
            font-family: 'JetBrains Mono', monospace;
        }

        .stat-label {
            font-size: 0.7rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

            .summary p {
                color: var(--text-secondary);
                font-size: 0.85rem;
                line-height: 1.7;
            }

            .summary .highlight-text {
                color: var(--accent-gold);
                font-weight: 500;
            }

        /* Typewriter effect */
        .typewriter-text {
            position: relative;
        }

        .typewriter-cursor {
            display: inline-block;
            width: 2px;
            height: 1.1em;
            background: var(--accent-gold);
            margin-left: 2px;
            vertical-align: text-bottom;
            animation: cursorBlink 0.6s infinite;
        }

        .typewriter-cursor.hidden {
            opacity: 0;
            animation: none;
        }

        @keyframes cursorBlink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        .typo-char {
            color: var(--accent-teal);
            opacity: 0.7;
        }

        .typing-indicator {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.7rem;
            color: var(--text-muted);
            position: absolute;
            bottom: -1.5rem;
            left: 0;
            opacity: 0.6;
        }

        .typing-indicator.hidden {
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .summary {
            position: relative;
        }

        .typing-dots {
            display: inline;
        }

        .typing-dots span {
            opacity: 0;
            transition: opacity 0.15s ease;
        }

        .typing-dots span.visible {
            opacity: 1;
        }

        /* Project List - Timeline Style */
        .project-list-wrapper {
            position: relative;
            overflow: hidden;
            flex: 1;
        }

        .project-list {
            display: flex;
            flex-direction: column;
            gap: 0;
            height: 100%;
            overflow-y: auto;
            padding-right: 0.5rem;
            scroll-behavior: smooth;
        }

        /* Custom scrollbar */
        .project-list::-webkit-scrollbar {
            width: 3px;
        }

        .project-list::-webkit-scrollbar-track {
            background: transparent;
        }

        .project-list::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 2px;
        }

        .project-list::-webkit-scrollbar-thumb:hover {
            background: var(--accent-gold);
        }

        /* Fade hints at top and bottom */
        .project-list-wrapper::before,
        .project-list-wrapper::after {
            content: '';
            position: absolute;
            left: 0;
            right: 8px;
            height: 40px;
            pointer-events: none;
            z-index: 2;
            transition: opacity 0.3s ease;
        }

        .project-list-wrapper::before {
            top: 0;
            background: linear-gradient(to bottom, var(--bg-primary), transparent);
            opacity: 0;
        }

        .project-list-wrapper::after {
            bottom: 0;
            background: linear-gradient(to top, var(--bg-primary), transparent);
            opacity: 1;
        }

        .project-list-wrapper.scrolled-top::before {
            opacity: 0;
        }

        .project-list-wrapper.scrolled-middle::before,
        .project-list-wrapper.scrolled-middle::after {
            opacity: 1;
        }

        .project-list-wrapper.scrolled-end::after {
            opacity: 0;
        }

        .project-card {
            position: relative;
            padding: 0.85rem 0 0.85rem 1rem;
            background: transparent;
            border: none;
            border-left: 2px solid var(--border-color);
            margin-left: 0.5rem;
            transition: all 0.3s ease;
            opacity: 0;
            transform: translateX(-10px);
            animation: projectReveal 0.5s ease forwards;
        }

        .project-card::before {
            content: '';
            position: absolute;
            left: -5px;
            top: 1.1rem;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--border-color);
            border: 2px solid var(--bg-primary);
            transition: all 0.3s ease;
        }

        @keyframes projectReveal {
            0% {
                opacity: 0;
                transform: translateX(-10px);
            }
            100% {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .project-card:hover {
            border-left-color: var(--accent-gold);
        }

        .project-card:hover::before {
            background: var(--accent-gold);
            box-shadow: 0 0 10px rgba(232, 185, 35, 0.5);
        }

        .project-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 0.3rem;
            gap: 0.5rem;
        }

        .project-title {
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--text-primary);
            line-height: 1.3;
        }

        .project-client {
            font-size: 0.75rem;
            color: var(--accent-teal);
            font-weight: 500;
        }

        .project-year {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.65rem;
            color: var(--text-muted);
            white-space: nowrap;
        }

        .project-desc {
            color: var(--text-secondary);
            font-size: 0.75rem;
            line-height: 1.5;
            margin-top: 0.25rem;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .project-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.25rem;
            margin-top: 0.4rem;
        }

        .tech-tag {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.55rem;
            padding: 0.15rem 0.4rem;
            background: transparent;
            border: 1px solid var(--accent-teal);
            border-radius: 3px;
            color: var(--accent-teal);
            opacity: 0.8;
        }

        /* Leadership card highlight */
        .leadership-card {
            border-left-color: var(--accent-gold);
        }

        .leadership-card::before {
            background: var(--accent-gold);
        }

        .leadership-card .project-title {
            color: var(--accent-gold);
        }

        .leadership-card .tech-tag {
            border-color: var(--accent-gold);
            color: var(--accent-gold);
        }

        /* Scroll hint text */
        .scroll-hint {
            text-align: center;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.65rem;
            color: var(--text-muted);
            margin-top: 0.5rem;
            opacity: 0.5;
        }

        /* Tabbed Carousel Section */
        .tabbed-carousel {
            flex: 1;
            display: flex;
            flex-direction: column;
            min-height: 0;
            animation: fadeInUp 0.6s ease-out 0.3s backwards;
        }

        .carousel-tabs {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
            flex-shrink: 0;
        }

        .carousel-tab {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.75rem;
            font-weight: 500;
            padding: 0.6rem 1.2rem;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        .carousel-tab:hover {
            border-color: var(--accent-teal);
            color: var(--text-primary);
        }

        .carousel-tab.active {
            background: linear-gradient(135deg, var(--accent-gold) 0%, var(--accent-gold-dim) 100%);
            border-color: var(--accent-gold);
            color: var(--bg-primary);
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(232, 185, 35, 0.3);
        }

        .carousel-panels {
            position: relative;
            flex: 1;
            min-height: 0;
        }

        .carousel-panel {
            display: none;
            opacity: 0;
            transform: translateY(10px);
            transition: opacity 0.4s ease, transform 0.4s ease;
            height: 100%;
        }

        .carousel-panel.active {
            display: flex;
            flex-direction: column;
            opacity: 1;
            transform: translateY(0);
        }

        /* Skills Panel - Network Graph */
        .skills-panel .skill-graph-container {
            margin: 0;
            flex: 1;
            height: auto;
            background: transparent;
            border: none;
            backdrop-filter: none;
            -webkit-backdrop-filter: none;
        }

        .skills-panel .graph-legend,
        .skills-panel .graph-hint {
            display: none;
        }

        /* Career Panel - Timeline */
        .career-panel {
            background: rgba(21, 29, 38, 0.6);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1.5rem;
        }

        .career-panel .project-list-wrapper {
            flex: 1;
            max-height: none;
        }

        .career-panel .project-list {
            max-height: 100%;
            height: 100%;
        }

        /* Clients Panel */
        .clients-panel {
            padding: 2rem;
            background: rgba(21, 29, 38, 0.6);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            flex: 1;
            overflow-y: auto;
        }

        .clients-panel .clients-section {
            margin-bottom: 2rem;
        }

        .clients-panel .clients-section:last-child {
            margin-bottom: 0;
        }

        .clients-panel .section-label {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.65rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .clients-panel .section-label::before {
            content: '';
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--accent-gold);
        }

        .clients-panel .section-label.other::before {
            background: var(--accent-teal);
        }

        .clients-panel .client-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
        }

        .clients-panel .client-card {
            padding: 0.9rem 1.4rem;
            background: transparent;
            border: 1px solid var(--border-color);
            border-radius: 100px;
            text-align: left;
            text-decoration: none;
            transition: border-color 0.4s cubic-bezier(0.4, 0, 0.2, 1),
                        transform 0.4s cubic-bezier(0.4, 0, 0.2, 1),
                        box-shadow 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            opacity: 0;
            transform: scale(0.9);
            animation: skillReveal 0.5s ease forwards;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            position: relative;
            overflow: hidden;
        }

        .clients-panel .client-card::before {
            content: '';
            position: absolute;
            inset: 0;
            background: radial-gradient(ellipse at center, rgba(45, 212, 191, 0.15) 0%, transparent 70%);
            opacity: 0;
            transition: opacity 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .clients-panel .client-card:hover {
            border-color: var(--accent-teal);
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(45, 212, 191, 0.12);
        }

        .clients-panel .client-card:hover::before {
            opacity: 1;
            transition: opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1) 0.15s;
        }

        .clients-panel .client-card.major {
            border-color: rgba(232, 185, 35, 0.4);
            animation-name: skillRevealGold;
        }

        .clients-panel .client-card.major::before {
            background: radial-gradient(ellipse at center, rgba(232, 185, 35, 0.18) 0%, transparent 70%);
        }

        .clients-panel .client-card.major:hover {
            border-color: var(--accent-gold);
            box-shadow: 0 4px 20px rgba(232, 185, 35, 0.15);
        }

        .clients-panel .client-name {
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--text-primary);
            white-space: nowrap;
            position: relative;
            z-index: 1;
            transition: color 0.3s cubic-bezier(0.4, 0, 0.2, 1) 0.1s;
        }

        .clients-panel .client-card:hover .client-name {
            color: var(--accent-teal);
            transition: color 0.4s cubic-bezier(0.4, 0, 0.2, 1) 0.2s;
        }

        .clients-panel .client-card.major .client-name {
            color: var(--accent-gold);
        }

        .clients-panel .client-card.major:hover .client-name {
            color: #f5d060;
            transition: color 0.4s cubic-bezier(0.4, 0, 0.2, 1) 0.2s;
        }

        .clients-panel .client-type {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.6rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.03em;
            white-space: nowrap;
            position: relative;
            z-index: 1;
            padding: 0.2rem 0.5rem;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 4px;
            transition: background 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                        color 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .clients-panel .client-card:hover .client-type {
            background: rgba(45, 212, 191, 0.15);
            color: var(--accent-teal);
            transition: background 0.4s cubic-bezier(0.4, 0, 0.2, 1) 0.25s,
                        color 0.4s cubic-bezier(0.4, 0, 0.2, 1) 0.25s;
        }

        .clients-panel .client-card.major .client-type {
            background: rgba(232, 185, 35, 0.1);
            color: var(--accent-gold);
        }

        .clients-panel .client-card.major:hover .client-type {
            background: rgba(232, 185, 35, 0.2);
            color: #f5d060;
            transition: background 0.4s cubic-bezier(0.4, 0, 0.2, 1) 0.25s,
                        color 0.4s cubic-bezier(0.4, 0, 0.2, 1) 0.25s;
        }

        /* Portfolio Panel */
        .portfolio-panel {
            padding: 1.5rem;
            background: rgba(21, 29, 38, 0.6);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            overflow: hidden;
        }

        .portfolio-panel.active {
            display: flex;
            flex-direction: column;
        }

        .portfolio-carousel {
            flex: 1;
            display: flex;
            flex-direction: column;
            min-height: 0;
        }

        .portfolio-main {
            flex: 1;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 0;
            margin-bottom: 1rem;
        }

        .portfolio-slide {
            position: absolute;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            pointer-events: none;
        }

        .portfolio-slide.active {
            opacity: 1;
            pointer-events: auto;
        }

        .portfolio-slide a {
            display: block;
            max-width: 100%;
            max-height: 100%;
        }

        .portfolio-slide img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            border-radius: 8px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .portfolio-slide a:hover img {
            transform: scale(1.02);
            box-shadow: 0 12px 48px rgba(0, 0, 0, 0.5);
        }

        .portfolio-info {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 0.75rem 1rem;
            background: transparent;
            pointer-events: none;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .portfolio-title {
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--text-primary);
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.8);
        }

        .portfolio-link {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.6rem;
            color: var(--accent-teal);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.8);
        }

        .portfolio-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 40px;
            height: 40px;
            border: 1px solid var(--border-color);
            background: rgba(21, 29, 38, 0.8);
            backdrop-filter: blur(8px);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            color: var(--text-secondary);
            z-index: 10;
        }

        .portfolio-nav:hover {
            border-color: var(--accent-gold);
            color: var(--accent-gold);
            background: rgba(232, 185, 35, 0.1);
        }

        .portfolio-nav.prev {
            left: 0.5rem;
        }

        .portfolio-nav.next {
            right: 0.5rem;
        }

        .portfolio-nav svg {
            width: 20px;
            height: 20px;
        }

        .portfolio-thumbnails {
            display: flex;
            gap: 0.5rem;
            overflow-x: auto;
            padding: 0.5rem 0;
            scrollbar-width: thin;
            scrollbar-color: var(--border-color) transparent;
        }

        .portfolio-thumbnails::-webkit-scrollbar {
            height: 4px;
        }

        .portfolio-thumbnails::-webkit-scrollbar-track {
            background: transparent;
        }

        .portfolio-thumbnails::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 2px;
        }

        .portfolio-thumb {
            flex-shrink: 0;
            width: 60px;
            height: 60px;
            border-radius: 6px;
            overflow: hidden;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.3s ease;
            opacity: 0.6;
        }

        .portfolio-thumb:hover {
            opacity: 1;
        }

        .portfolio-thumb.active {
            border-color: var(--accent-gold);
            opacity: 1;
        }

        .portfolio-thumb img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .portfolio-counter {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.7rem;
            color: var(--text-muted);
            text-align: center;
            margin-top: 0.5rem;
        }

        /* Testimonials Panel */
        .testimonials-panel {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            flex: 1;
            overflow-y: auto;
            padding: 1.5rem;
            background: rgba(21, 29, 38, 0.6);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--border-color);
            border-radius: 12px;
        }

        .testimonial-card {
            padding: 1.5rem;
            background: linear-gradient(135deg, var(--bg-card) 0%, rgba(232, 185, 35, 0.03) 100%);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            position: relative;
            opacity: 0;
            transform: translateX(-10px);
            animation: projectReveal 0.5s ease forwards;
        }

        .testimonial-card::before {
            content: '"';
            position: absolute;
            top: 0.5rem;
            left: 1rem;
            font-size: 3rem;
            font-family: Georgia, serif;
            color: var(--accent-gold);
            opacity: 0.3;
            line-height: 1;
        }

        .testimonial-quote {
            font-size: 0.95rem;
            color: var(--text-secondary);
            line-height: 1.7;
            font-style: italic;
            margin-bottom: 1rem;
            padding-left: 1.5rem;
        }

        .testimonial-author {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding-left: 1.5rem;
        }

        .testimonial-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent-gold) 0%, var(--accent-teal) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.8rem;
            color: var(--bg-primary);
        }

        .testimonial-info {
            display: flex;
            flex-direction: column;
        }

        .testimonial-name {
            font-weight: 600;
            font-size: 0.85rem;
            color: var(--text-primary);
        }

        .testimonial-role {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.65rem;
            color: var(--text-muted);
        }

        /* Skill Graph */
        .skill-graph-container {
            position: relative;
            width: 100%;
            height: 100%;
            min-height: 250px;
            background: rgba(21, 29, 38, 0.6);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            overflow: hidden;
            cursor: grab;
        }

        .skill-graph-container:active {
            cursor: grabbing;
        }

        #skill-graph-canvas {
            width: 100%;
            height: 100%;
        }

        .graph-legend {
            position: absolute;
            bottom: 1rem;
            left: 1rem;
            display: flex;
            gap: 1.5rem;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.65rem;
            color: var(--text-muted);
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.4rem;
        }

        .legend-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }

        .legend-dot.primary { background: var(--accent-gold); }
        .legend-dot.secondary { background: var(--accent-teal); }
        .legend-dot.tool { background: var(--text-muted); }

        .graph-hint {
            position: absolute;
            top: 1rem;
            right: 1rem;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.65rem;
            color: var(--text-muted);
            opacity: 0.7;
        }

        .skill-tooltip {
            position: absolute;
            pointer-events: none;
            background: rgba(21, 29, 38, 0.95);
            border: 1px solid var(--accent-teal);
            border-radius: 8px;
            padding: 0.75rem 1rem;
            width: 260px;
            opacity: 0;
            transition: opacity 0.25s ease;
            z-index: 100;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .skill-tooltip.visible {
            opacity: 1;
        }

        .skill-tooltip.primary {
            border-color: var(--accent-gold);
        }

        .skill-tooltip.tool {
            border-color: var(--text-muted);
        }

        .skill-tooltip-title {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--accent-gold);
            margin-bottom: 0.25rem;
        }

        .skill-tooltip.secondary .skill-tooltip-title {
            color: var(--accent-teal);
        }

        .skill-tooltip.tool .skill-tooltip-title {
            color: var(--text-secondary);
        }

        .skill-tooltip-desc {
            font-size: 0.75rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        .skill-tooltip-usage {
            font-size: 0.7rem;
            color: var(--text-muted);
            line-height: 1.5;
            border-top: 1px solid var(--border-color);
            padding-top: 0.5rem;
        }

        @media (max-width: 900px) {
            .skill-graph-container {
                height: 320px;
            }
        }

        /* Footer - Hidden for 100vh layout */
        footer {
            display: none;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 1rem;
        }

            .footer-links a {
                font-family: 'JetBrains Mono', monospace;
                font-size: 0.8rem;
                color: var(--text-muted);
                text-decoration: none;
                transition: color 0.2s ease;
            }

                .footer-links a:hover {
                    color: var(--accent-teal);
                }

        .footer-note {
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        /* Responsive */
        @media (max-width: 900px) {
            .container {
                padding: 1rem;
                height: auto;
                min-height: 100vh;
            }

            header {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .contact-block {
                text-align: left;
            }

            .languages {
                justify-content: flex-start;
            }

            .name-block h1 {
                font-size: 2rem;
            }

            .summary-row {
                flex-direction: column;
                gap: 1rem;
            }

            .stats-bar {
                flex-direction: row;
                justify-content: center;
                gap: 2rem;
                padding: 0.75rem 1.5rem;
            }

            .carousel-tabs {
                gap: 0.35rem;
            }

            .carousel-tab {
                padding: 0.5rem 0.8rem;
                font-size: 0.65rem;
            }

            .clients-panel {
                padding: 1.25rem;
            }

            .clients-panel .clients-section {
                margin-bottom: 1.5rem;
            }

            .clients-panel .client-grid {
                gap: 0.5rem;
            }

            .clients-panel .client-card {
                padding: 0.7rem 1rem;
            }

            .clients-panel .client-name {
                font-size: 0.75rem;
            }

            .clients-panel .client-type {
                font-size: 0.55rem;
                padding: 0.15rem 0.4rem;
            }
        }

        @media print {
            #gpu-canvas {
                display: none;
            }

            .noise-overlay {
                display: none;
            }

            body {
                background: white;
                color: #1a1a1a;
            }

            .container {
                padding: 1rem;
            }

            .project-card {
                break-inside: avoid;
            }
        }
    </style>
</head>
<body>
    <canvas id="gpu-canvas"></canvas>
    <div class="noise-overlay"></div>

    <a href="mailto:contact.charles.grassi@gmail.com" class="contact-btn">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
        </svg>
        Contact Me
    </a>
    <div class="container">
        <header>
            <div class="name-block">
                <h1>Charles Grassi</h1>
                <p class="tagline">Freelance Graphics Programmer & Technical Artist</p>
                <div class="titles">
                    <span class="title-tag highlight">Shader Specialist</span>
                    <span class="title-tag highlight">Technical Artist</span>
                    <span class="title-tag">Graphics Engineer</span>
                    <span class="title-tag">C# Developer</span>
                </div>
            </div>
            <div class="contact-block">
                <div class="company">Zylaris Ltd · Cyprus</div>
                <a href="mailto:contact.charles.grassi@gmail.com">contact.charles.grassi@gmail.com</a>
                <a href="tel:+33646118214">(+33) 6 46 11 82 14</a>
                <a href="https://twitter.com/charles_grassi" target="_blank">@charles_grassi</a>
                <div class="languages">
                    <span class="lang">EN</span>
                    <span class="lang">FR</span>
                </div>
            </div>
        </header>

        <!-- Summary + Stats Row -->
        <div class="summary-row">
            <div class="summary">
                <p class="typewriter-text" id="typewriter-container"></p>
                <div class="typing-indicator" id="typing-indicator">Charles is typing<span class="typing-dots"><span>.</span><span>.</span><span>.</span></span></div>
            </div>
            <div class="stats-bar">
                <div class="stat-item">
                    <div class="stat-number" id="stat-years" data-target="7" data-suffix="+">0</div>
                    <div class="stat-label">Years Exp.</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="stat-studios" data-target="12" data-suffix="+">0</div>
                    <div class="stat-label">Studios</div>
                </div>
            </div>
        </div>

        <!-- Tabbed Carousel -->
        <section class="tabbed-carousel">
            <div class="carousel-tabs">
                <button class="carousel-tab active" data-panel="skills">Skills</button>
                <button class="carousel-tab" data-panel="portfolio">Portfolio</button>
                <button class="carousel-tab" data-panel="career">Career</button>
                <button class="carousel-tab" data-panel="clients">Clients</button>
                <button class="carousel-tab" data-panel="testimonials">Testimonials</button>
            </div>

            <div class="carousel-panels">
                <!-- Skills Panel - Network Graph -->
                <div class="carousel-panel skills-panel active" id="panel-skills">
                    <div class="skill-graph-container">
                        <canvas id="skill-graph-canvas"></canvas>
                        <div class="skill-tooltip" id="skill-tooltip">
                            <div class="skill-tooltip-title"></div>
                            <div class="skill-tooltip-desc"></div>
                            <div class="skill-tooltip-usage"></div>
                        </div>
                        <div class="graph-legend">
                            <div class="legend-item">
                                <span class="legend-dot primary"></span>
                                <span>Core Skills</span>
                            </div>
                            <div class="legend-item">
                                <span class="legend-dot secondary"></span>
                                <span>Secondary</span>
                            </div>
                            <div class="legend-item">
                                <span class="legend-dot tool"></span>
                                <span>Tools</span>
                            </div>
                        </div>
                        <div class="graph-hint">Drag nodes to explore</div>
                    </div>
                </div>

                <!-- Portfolio Panel - ArtStation Carousel -->
                <div class="carousel-panel portfolio-panel" id="panel-portfolio">
                    <div class="portfolio-carousel">
                        <div class="portfolio-main">
                            <button class="portfolio-nav prev" aria-label="Previous">
                                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
                            </button>
                            <button class="portfolio-nav next" aria-label="Next">
                                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
                            </button>

                            <div class="portfolio-slide active" data-index="0">
                                <a href="https://www.artstation.com/artwork/V216yN" target="_blank">
                                    <img src="https://cdna.artstation.com/p/assets/images/images/084/284/470/large/charles-grassi-screenshot-2025-01-11-181036-2.jpg" alt="Cave 360° Scene Composition">
                                </a>
                                <div class="portfolio-info">
                                    <div class="portfolio-title">Cave 360° Scene Composition</div>
                                    <div class="portfolio-link">View on ArtStation</div>
                                </div>
                            </div>
                            <div class="portfolio-slide" data-index="1">
                                <a href="https://www.artstation.com/artwork/V216JZ" target="_blank">
                                    <img src="https://cdna.artstation.com/p/assets/images/images/084/274/870/large/charles-grassi-screenshot-2024-10-08-064527.jpg" alt="Volumetric Fog | Cloud With Rain & Thunder">
                                </a>
                                <div class="portfolio-info">
                                    <div class="portfolio-title">Volumetric Fog | Cloud With Rain & Thunder</div>
                                    <div class="portfolio-link">View on ArtStation</div>
                                </div>
                            </div>
                            <div class="portfolio-slide" data-index="2">
                                <a href="https://www.artstation.com/artwork/WXKB2E" target="_blank">
                                    <img src="https://cdnb.artstation.com/p/assets/images/images/079/164/965/large/charles-grassi-screenshot-2024-08-15-031337.jpg" alt="Maelstrom (WIP)">
                                </a>
                                <div class="portfolio-info">
                                    <div class="portfolio-title">Maelstrom (WIP)</div>
                                    <div class="portfolio-link">View on ArtStation</div>
                                </div>
                            </div>
                            <div class="portfolio-slide" data-index="3">
                                <a href="https://www.artstation.com/artwork/x3AvG2" target="_blank">
                                    <img src="https://cdnb.artstation.com/p/assets/video_clips/images/078/424/977/large/charles-grassi-thumb.jpg" alt="Cartoon Ocean Shader">
                                </a>
                                <div class="portfolio-info">
                                    <div class="portfolio-title">Cartoon Ocean Shader & Breakdown</div>
                                    <div class="portfolio-link">View on ArtStation</div>
                                </div>
                            </div>
                            <div class="portfolio-slide" data-index="4">
                                <a href="https://www.artstation.com/artwork/EzqE08" target="_blank">
                                    <img src="https://cdnb.artstation.com/p/assets/images/images/078/404/623/large/charles-grassi-screenshot-2024-03-06-030921.jpg" alt="Raytraced Mountain Scene">
                                </a>
                                <div class="portfolio-info">
                                    <div class="portfolio-title">Raytraced Mountain Scene in a Single Shader</div>
                                    <div class="portfolio-link">View on ArtStation</div>
                                </div>
                            </div>
                            <div class="portfolio-slide" data-index="5">
                                <a href="https://www.artstation.com/artwork/6LnRor" target="_blank">
                                    <img src="https://cdna.artstation.com/p/assets/images/images/078/403/874/large/charles-grassi-screenshot-2023-11-01-200540.jpg" alt="SABDA Projection Mapping">
                                </a>
                                <div class="portfolio-info">
                                    <div class="portfolio-title">SABDA - Projection Mapping Immersive 360° Scenes</div>
                                    <div class="portfolio-link">View on ArtStation</div>
                                </div>
                            </div>
                            <div class="portfolio-slide" data-index="6">
                                <a href="https://www.artstation.com/artwork/zxKvQw" target="_blank">
                                    <img src="https://cdnb.artstation.com/p/assets/images/images/084/275/951/large/charles-grassi-screenshot-2023-12-25-213543.jpg" alt="Space Colonization Algorithm">
                                </a>
                                <div class="portfolio-info">
                                    <div class="portfolio-title">Multi-Threaded Space Colonization Algorithm</div>
                                    <div class="portfolio-link">View on ArtStation</div>
                                </div>
                            </div>
                            <div class="portfolio-slide" data-index="7">
                                <a href="https://www.artstation.com/artwork/K36Por" target="_blank">
                                    <img src="https://cdna.artstation.com/p/assets/images/images/078/403/954/large/charles-grassi-screenshot-2023-10-18-193823.jpg" alt="Alien Egg Shader">
                                </a>
                                <div class="portfolio-info">
                                    <div class="portfolio-title">Alien Egg Shader</div>
                                    <div class="portfolio-link">View on ArtStation</div>
                                </div>
                            </div>
                            <div class="portfolio-slide" data-index="8">
                                <a href="https://www.artstation.com/artwork/nJwNLO" target="_blank">
                                    <img src="https://cdna.artstation.com/p/assets/images/images/078/429/084/large/charles-grassi-sandbox-stylized-cloud-night.jpg" alt="Sandbox Stylized Cloud Shaders">
                                </a>
                                <div class="portfolio-info">
                                    <div class="portfolio-title">Sandbox Stylized Cloud & God Rays Shader</div>
                                    <div class="portfolio-link">View on ArtStation</div>
                                </div>
                            </div>
                            <div class="portfolio-slide" data-index="9">
                                <a href="https://www.artstation.com/artwork/gRgVEK" target="_blank">
                                    <img src="https://cdnb.artstation.com/p/assets/video_clips/images/078/425/435/large/charles-grassi-thumb.jpg" alt="Oily Ocean Surface Shader">
                                </a>
                                <div class="portfolio-info">
                                    <div class="portfolio-title">Oily Ocean Surface Shader</div>
                                    <div class="portfolio-link">View on ArtStation</div>
                                </div>
                            </div>
                            <div class="portfolio-slide" data-index="10">
                                <a href="https://www.artstation.com/artwork/JraPGz" target="_blank">
                                    <img src="https://cdnb.artstation.com/p/assets/images/images/078/404/507/large/charles-grassi-screenshot-2023-03-27-145100.jpg" alt="Baked Volumetric Colored Fog">
                                </a>
                                <div class="portfolio-info">
                                    <div class="portfolio-title">Baked Volumetric Colored Fog</div>
                                    <div class="portfolio-link">View on ArtStation</div>
                                </div>
                            </div>
                            <div class="portfolio-slide" data-index="11">
                                <a href="https://www.artstation.com/artwork/V2oaP4" target="_blank">
                                    <img src="https://cdnb.artstation.com/p/assets/video_clips/images/078/425/261/large/charles-grassi-thumb.jpg" alt="Single Draw Call Grass Shader">
                                </a>
                                <div class="portfolio-info">
                                    <div class="portfolio-title">Single Draw Call Grass Shader</div>
                                    <div class="portfolio-link">View on ArtStation</div>
                                </div>
                            </div>
                            <div class="portfolio-slide" data-index="12">
                                <a href="https://www.artstation.com/artwork/Ovqgby" target="_blank">
                                    <img src="https://cdna.artstation.com/p/assets/video_clips/images/078/425/098/large/charles-grassi-thumb.jpg" alt="Marching Cube Terrain">
                                </a>
                                <div class="portfolio-info">
                                    <div class="portfolio-title">CPU Multi-Threaded Burst Marching Cube Terrain</div>
                                    <div class="portfolio-link">View on ArtStation</div>
                                </div>
                            </div>
                            <div class="portfolio-slide" data-index="13">
                                <a href="https://www.artstation.com/artwork/Bko5el" target="_blank">
                                    <img src="https://cdna.artstation.com/p/assets/images/images/078/519/226/large/charles-grassi-screenshot-2023-10-29-140203-2.jpg" alt="HDRP Interior Lighting">
                                </a>
                                <div class="portfolio-info">
                                    <div class="portfolio-title">HDRP - Interior Lighting Scenarios</div>
                                    <div class="portfolio-link">View on ArtStation</div>
                                </div>
                            </div>
                            <div class="portfolio-slide" data-index="14">
                                <a href="https://www.artstation.com/artwork/wrAvRL" target="_blank">
                                    <img src="https://cdnb.artstation.com/p/assets/video_clips/images/078/425/243/large/charles-grassi-thumb.jpg" alt="Orthographic Water Surface">
                                </a>
                                <div class="portfolio-info">
                                    <div class="portfolio-title">Orthographic Water Surface</div>
                                    <div class="portfolio-link">View on ArtStation</div>
                                </div>
                            </div>
                        </div>
                        <div class="portfolio-thumbnails" id="portfolio-thumbnails">
                            <div class="portfolio-thumb active" data-index="0"><img src="https://cdna.artstation.com/p/assets/images/images/084/284/470/small_square/charles-grassi-screenshot-2025-01-11-181036-2.jpg" alt=""></div>
                            <div class="portfolio-thumb" data-index="1"><img src="https://cdna.artstation.com/p/assets/images/images/084/274/870/small_square/charles-grassi-screenshot-2024-10-08-064527.jpg" alt=""></div>
                            <div class="portfolio-thumb" data-index="2"><img src="https://cdnb.artstation.com/p/assets/images/images/079/164/965/small_square/charles-grassi-screenshot-2024-08-15-031337.jpg" alt=""></div>
                            <div class="portfolio-thumb" data-index="3"><img src="https://cdnb.artstation.com/p/assets/video_clips/images/078/424/977/small_square/charles-grassi-thumb.jpg" alt=""></div>
                            <div class="portfolio-thumb" data-index="4"><img src="https://cdnb.artstation.com/p/assets/images/images/078/404/623/small_square/charles-grassi-screenshot-2024-03-06-030921.jpg" alt=""></div>
                            <div class="portfolio-thumb" data-index="5"><img src="https://cdna.artstation.com/p/assets/images/images/078/403/874/small_square/charles-grassi-screenshot-2023-11-01-200540.jpg" alt=""></div>
                            <div class="portfolio-thumb" data-index="6"><img src="https://cdnb.artstation.com/p/assets/images/images/084/275/951/small_square/charles-grassi-screenshot-2023-12-25-213543.jpg" alt=""></div>
                            <div class="portfolio-thumb" data-index="7"><img src="https://cdna.artstation.com/p/assets/images/images/078/403/954/small_square/charles-grassi-screenshot-2023-10-18-193823.jpg" alt=""></div>
                            <div class="portfolio-thumb" data-index="8"><img src="https://cdna.artstation.com/p/assets/images/images/078/429/084/small_square/charles-grassi-sandbox-stylized-cloud-night.jpg" alt=""></div>
                            <div class="portfolio-thumb" data-index="9"><img src="https://cdnb.artstation.com/p/assets/video_clips/images/078/425/435/small_square/charles-grassi-thumb.jpg" alt=""></div>
                            <div class="portfolio-thumb" data-index="10"><img src="https://cdnb.artstation.com/p/assets/images/images/078/404/507/small_square/charles-grassi-screenshot-2023-03-27-145100.jpg" alt=""></div>
                            <div class="portfolio-thumb" data-index="11"><img src="https://cdnb.artstation.com/p/assets/video_clips/images/078/425/261/small_square/charles-grassi-thumb.jpg" alt=""></div>
                            <div class="portfolio-thumb" data-index="12"><img src="https://cdna.artstation.com/p/assets/video_clips/images/078/425/098/small_square/charles-grassi-thumb.jpg" alt=""></div>
                            <div class="portfolio-thumb" data-index="13"><img src="https://cdna.artstation.com/p/assets/images/images/078/519/226/small_square/charles-grassi-screenshot-2023-10-29-140203-2.jpg" alt=""></div>
                            <div class="portfolio-thumb" data-index="14"><img src="https://cdnb.artstation.com/p/assets/video_clips/images/078/425/243/small_square/charles-grassi-thumb.jpg" alt=""></div>
                        </div>
                        <div class="portfolio-counter"><span id="portfolio-current">1</span> / <span id="portfolio-total">15</span></div>
                    </div>
                </div>

                <!-- Career Panel - Timeline -->
                <div class="carousel-panel career-panel" id="panel-career">
                    <div class="project-list-wrapper" id="project-list-wrapper">
                        <div class="project-list" id="project-list">
                            <article class="project-card">
                                <div class="project-header">
                                    <div>
                                        <div class="project-title">Technical Artist & Graphics Programmer</div>
                                        <div class="project-client">Nexus Studios</div>
                                    </div>
                                    <div class="project-year">2025</div>
                                </div>
                                <div class="project-desc">
                                    Built a real-time global illumination system using SDF representations of scanned VR environments.
                                    Implemented GPU compute pipelines for efficient light transport calculations optimized for VR hardware constraints.
                                </div>
                                <div class="project-tags">
                                    <span class="tech-tag">Compute Shaders</span>
                                    <span class="tech-tag">SDF</span>
                                    <span class="tech-tag">VR</span>
                                    <span class="tech-tag">Global Illumination</span>
                                </div>
                            </article>

                            <article class="project-card leadership-card">
                                <div class="project-header">
                                    <div>
                                        <div class="project-title">Chief Technology Officer</div>
                                        <div class="project-client">SABDA</div>
                                    </div>
                                    <div class="project-year">2023–2024</div>
                                </div>
                                <div class="project-desc">
                                    Led technical direction for a large-scale 16K immersive installation. Developed real-time 3D content,
                                    managed spatial audio systems, server infrastructure, and projection mapping pipelines.
                                    Built and led a multicultural engineering team.
                                </div>
                                <div class="project-tags">
                                    <span class="tech-tag">Projection Mapping</span>
                                    <span class="tech-tag">Spatial Audio</span>
                                    <span class="tech-tag">Real-time 3D</span>
                                    <span class="tech-tag">Team Leadership</span>
                                </div>
                            </article>

                            <article class="project-card">
                                <div class="project-header">
                                    <div>
                                        <div class="project-title">Lead Graphics Programmer</div>
                                        <div class="project-client">Little Red Dog Games</div>
                                    </div>
                                    <div class="project-year">2023</div>
                                </div>
                                <div class="project-desc">
                                    Directed graphics team to develop high-performance VFX using compute shaders and Burst-compiled code.
                                    Achieved significant CPU performance optimizations while maintaining visual fidelity.
                                </div>
                                <div class="project-tags">
                                    <span class="tech-tag">Compute Shaders</span>
                                    <span class="tech-tag">Burst</span>
                                    <span class="tech-tag">VFX</span>
                                    <span class="tech-tag">Team Lead</span>
                                </div>
                            </article>

                            <article class="project-card">
                                <div class="project-header">
                                    <div>
                                        <div class="project-title">Senior Graphics Programmer</div>
                                        <div class="project-client">22cans</div>
                                    </div>
                                    <div class="project-year">2023</div>
                                </div>
                                <div class="project-desc">
                                    Created versatile shader library targeting mobile and desktop simultaneously. Developed performant
                                    grass rendering and volumetric lighting effects that maintained visual quality across hardware tiers.
                                </div>
                                <div class="project-tags">
                                    <span class="tech-tag">HLSL</span>
                                    <span class="tech-tag">Mobile</span>
                                    <span class="tech-tag">Volumetrics</span>
                                    <span class="tech-tag">Grass</span>
                                </div>
                            </article>

                            <article class="project-card">
                                <div class="project-header">
                                    <div>
                                        <div class="project-title">Shader Expert</div>
                                        <div class="project-client">GN3RA</div>
                                    </div>
                                    <div class="project-year">2023</div>
                                </div>
                                <div class="project-desc">
                                    Developed customizable HDRP cloth shaders for fashion and character rendering.
                                    Optimized visual effects and lighting systems for high-fidelity real-time applications.
                                </div>
                                <div class="project-tags">
                                    <span class="tech-tag">HDRP</span>
                                    <span class="tech-tag">Cloth Simulation</span>
                                    <span class="tech-tag">VFX</span>
                                </div>
                            </article>

                            <article class="project-card">
                                <div class="project-header">
                                    <div>
                                        <div class="project-title">Graphics Programmer</div>
                                        <div class="project-client">Scapin' · The Sandbox</div>
                                    </div>
                                    <div class="project-year">2021–2022</div>
                                </div>
                                <div class="project-desc">
                                    Engineered custom lighting systems for web3 social applications. Built stylized cloud shaders
                                    and optimized mobile blur effects while delivering premium visual aesthetics.
                                </div>
                                <div class="project-tags">
                                    <span class="tech-tag">Lighting</span>
                                    <span class="tech-tag">Mobile Optimization</span>
                                    <span class="tech-tag">Web3</span>
                                </div>
                            </article>

                            <article class="project-card">
                                <div class="project-header">
                                    <div>
                                        <div class="project-title">Shader Expert</div>
                                        <div class="project-client">DREST</div>
                                    </div>
                                    <div class="project-year">2022</div>
                                </div>
                                <div class="project-desc">
                                    Delivered specialized shader solutions for fashion tech applications.
                                    Focused on performance optimization and high-quality material rendering.
                                </div>
                                <div class="project-tags">
                                    <span class="tech-tag">Fashion Tech</span>
                                    <span class="tech-tag">Materials</span>
                                    <span class="tech-tag">Optimization</span>
                                </div>
                            </article>

                            <article class="project-card">
                                <div class="project-header">
                                    <div>
                                        <div class="project-title">Unity Developer & Technical Artist</div>
                                        <div class="project-client">Lunchbox Entertainment</div>
                                    </div>
                                    <div class="project-year">2021–2022</div>
                                </div>
                                <div class="project-desc">
                                    Created terrain, clouds, water, caustics, and bubble VFX shaders for game environments.
                                    Combined technical programming with artistic direction for immersive visual experiences.
                                </div>
                                <div class="project-tags">
                                    <span class="tech-tag">Water Shaders</span>
                                    <span class="tech-tag">VFX</span>
                                    <span class="tech-tag">Environment Art</span>
                                </div>
                            </article>

                            <article class="project-card">
                                <div class="project-header">
                                    <div>
                                        <div class="project-title">Graphics Engineer</div>
                                        <div class="project-client">H3 Space</div>
                                    </div>
                                    <div class="project-year">2021</div>
                                </div>
                                <div class="project-desc">
                                    Developed graphics solutions for AR/VR applications. Specialized in performance optimization
                                    and visual effects for immersive spatial computing experiences.
                                </div>
                                <div class="project-tags">
                                    <span class="tech-tag">AR/VR</span>
                                    <span class="tech-tag">Optimization</span>
                                    <span class="tech-tag">3D Math</span>
                                </div>
                            </article>

                            <article class="project-card">
                                <div class="project-header">
                                    <div>
                                        <div class="project-title">Unity Developer & Graphics Programmer</div>
                                        <div class="project-client">Ubisoft</div>
                                    </div>
                                    <div class="project-year">2020–2021</div>
                                </div>
                                <div class="project-desc">
                                    Delivered graphics programming expertise for AAA game development.
                                    Specialized in performance analysis, VFX, and cross-platform rendering optimization.
                                </div>
                                <div class="project-tags">
                                    <span class="tech-tag">AAA</span>
                                    <span class="tech-tag">VFX</span>
                                    <span class="tech-tag">Performance</span>
                                </div>
                            </article>
                        </div>
                        <p class="scroll-hint">Scroll to see more</p>
                    </div>
                </div>

                <!-- Clients Panel -->
                <div class="carousel-panel clients-panel" id="panel-clients">
                    <div class="clients-section">
                        <div class="section-label">Featured Partners</div>
                        <div class="client-grid">
                            <a href="https://nexusstudios.com/" target="_blank" class="client-card major">
                                <span class="client-name">Nexus Studios</span>
                                <span class="client-type">VR / Immersive</span>
                            </a>
                            <a href="https://www.ubisoft.com/" target="_blank" class="client-card major">
                                <span class="client-name">Ubisoft</span>
                                <span class="client-type">AAA Games</span>
                            </a>
                            <a href="https://www.22cans.com/" target="_blank" class="client-card major">
                                <span class="client-name">22cans</span>
                                <span class="client-type">Game Studio</span>
                            </a>
                        </div>
                    </div>
                    <div class="clients-section">
                        <div class="section-label other">Collaborations</div>
                        <div class="client-grid">
                            <a href="https://www.sandbox.game/" target="_blank" class="client-card">
                                <span class="client-name">The Sandbox</span>
                                <span class="client-type">Web3 Gaming</span>
                            </a>
                            <a href="https://www.drest.com/" target="_blank" class="client-card">
                                <span class="client-name">DREST</span>
                                <span class="client-type">Fashion Tech</span>
                            </a>
                            <a href="https://www.linkedin.com/company/h3investments/posts/" target="_blank" class="client-card">
                                <span class="client-name">H3 Space</span>
                                <span class="client-type">AR / VR</span>
                            </a>
                            <a href="https://store.steampowered.com/developer/lrdg" target="_blank" class="client-card">
                                <span class="client-name">Little Red Dog</span>
                                <span class="client-type">Game Studio</span>
                            </a>
                            <a href="https://scapin.io/" target="_blank" class="client-card">
                                <span class="client-name">Scapin'</span>
                                <span class="client-type">Social App</span>
                            </a>
                            <a href="https://sabda.es/" target="_blank" class="client-card">
                                <span class="client-name">SABDA</span>
                                <span class="client-type">Immersive Art</span>
                            </a>
                            <a href="https://www.genera.so/" target="_blank" class="client-card">
                                <span class="client-name">GN3RA</span>
                                <span class="client-type">Digital Fashion</span>
                            </a>
                            <a href="https://lunchboxentertainment.com/" target="_blank" class="client-card">
                                <span class="client-name">Lunchbox Ent.</span>
                                <span class="client-type">Game Studio</span>
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Testimonials Panel -->
                <div class="carousel-panel testimonials-panel" id="panel-testimonials">
                    <div class="testimonial-card">
                        <p class="testimonial-quote">Charles delivered exceptional work on our VR project. His deep understanding of GPU optimization and real-time rendering made our global illumination system possible within our hardware constraints.</p>
                        <div class="testimonial-author">
                            <div class="testimonial-avatar">NS</div>
                            <div class="testimonial-info">
                                <span class="testimonial-name">Nexus Studios</span>
                                <span class="testimonial-role">VR Production Team</span>
                            </div>
                        </div>
                    </div>
                    <div class="testimonial-card">
                        <p class="testimonial-quote">Working with Charles on our 16K immersive installation was a game-changer. His technical leadership and ability to solve complex projection mapping challenges exceeded our expectations.</p>
                        <div class="testimonial-author">
                            <div class="testimonial-avatar">SA</div>
                            <div class="testimonial-info">
                                <span class="testimonial-name">SABDA</span>
                                <span class="testimonial-role">Creative Direction</span>
                            </div>
                        </div>
                    </div>
                    <div class="testimonial-card">
                        <p class="testimonial-quote">Charles's shader expertise helped us achieve console-quality graphics on mobile devices. His optimization work significantly improved our game's performance without sacrificing visual fidelity.</p>
                        <div class="testimonial-author">
                            <div class="testimonial-avatar">22</div>
                            <div class="testimonial-info">
                                <span class="testimonial-name">22cans</span>
                                <span class="testimonial-role">Development Team</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <footer>
            <div class="footer-links">
                <a href="mailto:contact.charles.grassi@gmail.com">Email</a>
                <a href="https://twitter.com/charles_grassi">Twitter</a>
                <a href="https://linkedin.com/in/charles-grassi">LinkedIn</a>
            </div>
            <p class="footer-note">Available for consulting engagements · Remote worldwide</p>
        </footer>
    </div>

    <script>
        // Subtle Aurora Background - Charles Grassi CV
        (function () {
            const canvas = document.getElementById('gpu-canvas');
            const renderer = new THREE.WebGLRenderer({
                canvas,
                antialias: false,
                alpha: true
            });
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 1.5));
            renderer.setSize(window.innerWidth, window.innerHeight);

            const scene = new THREE.Scene();
            const camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0, 1);

            // Mouse tracking (subtle)
            const mouse = { x: 0.5, y: 0.5, targetX: 0.5, targetY: 0.5 };
            document.addEventListener('mousemove', (e) => {
                mouse.targetX = e.clientX / window.innerWidth;
                mouse.targetY = 1.0 - e.clientY / window.innerHeight;
            });

            // Fullscreen shader
            const vertexShader = `
                varying vec2 vUv;
                void main() {
                    vUv = uv;
                    gl_Position = vec4(position, 1.0);
                }
            `;

            const fragmentShader = `
                uniform float uTime;
                uniform vec2 uMouse;
                uniform vec2 uResolution;

                varying vec2 vUv;

                // Simplex noise
                vec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
                vec2 mod289(vec2 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
                vec3 permute(vec3 x) { return mod289(((x*34.0)+1.0)*x); }

                float snoise(vec2 v) {
                    const vec4 C = vec4(0.211324865405187, 0.366025403784439,
                                       -0.577350269189626, 0.024390243902439);
                    vec2 i  = floor(v + dot(v, C.yy));
                    vec2 x0 = v - i + dot(i, C.xx);
                    vec2 i1;
                    i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);
                    vec4 x12 = x0.xyxy + C.xxzz;
                    x12.xy -= i1;
                    i = mod289(i);
                    vec3 p = permute(permute(i.y + vec3(0.0, i1.y, 1.0))
                        + i.x + vec3(0.0, i1.x, 1.0));
                    vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy),
                        dot(x12.zw,x12.zw)), 0.0);
                    m = m*m;
                    m = m*m;
                    vec3 x = 2.0 * fract(p * C.www) - 1.0;
                    vec3 h = abs(x) - 0.5;
                    vec3 ox = floor(x + 0.5);
                    vec3 a0 = x - ox;
                    m *= 1.79284291400159 - 0.85373472095314 * (a0*a0 + h*h);
                    vec3 g;
                    g.x = a0.x * x0.x + h.x * x0.y;
                    g.yz = a0.yz * x12.xz + h.yz * x12.yw;
                    return 130.0 * dot(m, g);
                }

                void main() {
                    vec2 uv = vUv;

                    // Slow flowing noise
                    float noise1 = snoise(uv * 1.5 + uTime * 0.05);
                    float noise2 = snoise(uv * 2.5 - uTime * 0.03 + 100.0);
                    float noise3 = snoise(uv * 0.8 + uTime * 0.02 + vec2(noise1 * 0.2));

                    float combinedNoise = noise1 * 0.5 + noise2 * 0.3 + noise3 * 0.2;

                    // Colors
                    vec3 gold = vec3(0.91, 0.73, 0.14);
                    vec3 teal = vec3(0.18, 0.83, 0.75);
                    vec3 dark = vec3(0.04, 0.06, 0.08);

                    // Subtle color bands
                    float band1 = smoothstep(-0.3, 0.3, combinedNoise);
                    float band2 = smoothstep(0.0, 0.6, combinedNoise);

                    vec3 color = mix(dark, gold * 0.15, band1 * 0.4);
                    color = mix(color, teal * 0.12, band2 * 0.3);

                    // Very subtle mouse glow
                    float mouseDist = length(uv - uMouse);
                    float mouseGlow = exp(-mouseDist * 3.0) * 0.08;
                    color += teal * mouseGlow;

                    // Vignette
                    float vignette = 1.0 - length(uv - 0.5) * 0.5;
                    color *= vignette;

                    // Keep it very subtle
                    float alpha = 0.6;

                    gl_FragColor = vec4(color, alpha);
                }
            `;

            const geometry = new THREE.PlaneGeometry(2, 2);
            const material = new THREE.ShaderMaterial({
                vertexShader,
                fragmentShader,
                uniforms: {
                    uTime: { value: 0 },
                    uMouse: { value: new THREE.Vector2(0.5, 0.5) },
                    uResolution: { value: new THREE.Vector2(window.innerWidth, window.innerHeight) }
                },
                transparent: true,
                depthWrite: false
            });

            const mesh = new THREE.Mesh(geometry, material);
            scene.add(mesh);

            // Sparse floating particles
            const particleVertexShader = `
                uniform float uTime;
                uniform float uPixelRatio;
                attribute float aScale;
                attribute float aSpeed;
                varying float vAlpha;

                void main() {
                    vec3 pos = position;

                    // Gentle drift
                    pos.x += sin(uTime * aSpeed * 0.5 + position.y * 2.0) * 0.02;
                    pos.y += mod(uTime * aSpeed * 0.1, 2.0) - 1.0;
                    pos.y = mod(pos.y + 1.0, 2.0) - 1.0;

                    gl_Position = vec4(pos, 1.0);
                    gl_PointSize = aScale * uPixelRatio * 3.0;

                    // Fade at edges
                    vAlpha = smoothstep(1.0, 0.7, abs(pos.y)) * 0.4;
                }
            `;

            const particleFragmentShader = `
                varying float vAlpha;

                void main() {
                    float dist = length(gl_PointCoord - 0.5);
                    float alpha = smoothstep(0.5, 0.0, dist) * vAlpha;
                    vec3 color = mix(vec3(0.91, 0.73, 0.14), vec3(0.18, 0.83, 0.75), 0.5);
                    gl_FragColor = vec4(color, alpha);
                }
            `;

            const PARTICLE_COUNT = 60;
            const particleGeometry = new THREE.BufferGeometry();
            const positions = new Float32Array(PARTICLE_COUNT * 3);
            const scales = new Float32Array(PARTICLE_COUNT);
            const speeds = new Float32Array(PARTICLE_COUNT);

            for (let i = 0; i < PARTICLE_COUNT; i++) {
                positions[i * 3] = (Math.random() - 0.5) * 2;
                positions[i * 3 + 1] = (Math.random() - 0.5) * 2;
                positions[i * 3 + 2] = 0;
                scales[i] = Math.random() * 1.5 + 0.5;
                speeds[i] = Math.random() * 0.5 + 0.2;
            }

            particleGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
            particleGeometry.setAttribute('aScale', new THREE.BufferAttribute(scales, 1));
            particleGeometry.setAttribute('aSpeed', new THREE.BufferAttribute(speeds, 1));

            const particleMaterial = new THREE.ShaderMaterial({
                vertexShader: particleVertexShader,
                fragmentShader: particleFragmentShader,
                uniforms: {
                    uTime: { value: 0 },
                    uPixelRatio: { value: Math.min(window.devicePixelRatio, 2) }
                },
                transparent: true,
                blending: THREE.AdditiveBlending,
                depthWrite: false
            });

            const particles = new THREE.Points(particleGeometry, particleMaterial);
            scene.add(particles);

            // Animation
            let time = 0;
            function animate() {
                requestAnimationFrame(animate);

                time += 0.016;

                mouse.x += (mouse.targetX - mouse.x) * 0.02;
                mouse.y += (mouse.targetY - mouse.y) * 0.02;

                material.uniforms.uTime.value = time;
                material.uniforms.uMouse.value.set(mouse.x, mouse.y);

                particleMaterial.uniforms.uTime.value = time;

                renderer.render(scene, camera);
            }

            animate();

            window.addEventListener('resize', () => {
                renderer.setSize(window.innerWidth, window.innerHeight);
                material.uniforms.uResolution.value.set(window.innerWidth, window.innerHeight);
            });

            document.addEventListener('visibilitychange', () => {
                // Continues running but at low cost anyway
            });
        })();

        // Skill Network Graph
        (function() {
            const canvas = document.getElementById('skill-graph-canvas');
            if (!canvas) return;

            const ctx = canvas.getContext('2d');
            const container = canvas.parentElement;
            let time = 0;

            // Colors matching the site theme
            const colors = {
                gold: '#e8b923',
                goldDim: '#c49a1a',
                teal: '#2dd4bf',
                tealDim: '#1a9a87',
                textPrimary: '#e8eaed',
                textMuted: '#6b7280',
                border: '#1f2937',
                bgCard: '#151d26'
            };

            // Skill nodes with categories and descriptions
            // baseSize is the reference size at 400px canvas dimension
            const skills = [
                // Core skills (primary - gold)
                { id: 'unity', label: 'Unity', category: 'primary', baseSize: 22,
                  desc: 'Primary game engine', usage: 'Daily since 2017 - shipped 12+ titles across mobile, PC, and VR platforms' },
                { id: 'csharp', label: 'C#', category: 'primary', baseSize: 20,
                  desc: 'Main programming language', usage: '7+ years - gameplay systems, editor tools, and performance-critical code' },
                { id: 'hlsl', label: 'HLSL/GLSL', category: 'primary', baseSize: 20,
                  desc: 'Shader programming', usage: 'Custom rendering pipelines, VFX, post-processing, and compute shaders' },
                { id: 'directx', label: 'DirectX', category: 'primary', baseSize: 18,
                  desc: 'Graphics API', usage: 'DX11/DX12 for Windows and Xbox development' },
                { id: 'arvr', label: 'AR/VR', category: 'primary', baseSize: 18,
                  desc: 'Immersive experiences', usage: 'Meta Quest, HoloLens, and mobile AR projects' },
                { id: 'urp', label: 'URP/HDRP', category: 'primary', baseSize: 17,
                  desc: 'Unity render pipelines', usage: 'Custom render features, shader graphs, and pipeline extensions' },

                // Secondary skills (teal)
                { id: 'opengl', label: 'OpenGL', category: 'secondary', baseSize: 14,
                  desc: 'Cross-platform graphics', usage: 'Mobile and Linux rendering targets' },
                { id: 'unreal', label: 'Unreal', category: 'secondary', baseSize: 16,
                  desc: 'Secondary engine', usage: 'Blueprint systems and material editor for specific projects' },
                { id: 'vulkan', label: 'Vulkan', category: 'secondary', baseSize: 13,
                  desc: 'Low-level graphics API', usage: 'Performance optimization on Android and Linux' },
                { id: 'python', label: 'Python', category: 'secondary', baseSize: 13,
                  desc: 'Scripting & tools', usage: 'Build automation, asset pipelines, and data processing' },
                { id: 'cpp', label: 'C++', category: 'secondary', baseSize: 15,
                  desc: 'Systems programming', usage: 'Native plugins, engine modifications, and Unreal development' },
                { id: 'wpf', label: 'WPF', category: 'secondary', baseSize: 11,
                  desc: 'Desktop UI framework', usage: 'Internal tools and editors for game development' },
                { id: 'compute', label: 'Compute', category: 'secondary', baseSize: 16,
                  desc: 'GPU compute shaders', usage: 'Particle simulations, procedural generation, and physics' },
                { id: 'vfx', label: 'VFX Graph', category: 'secondary', baseSize: 15,
                  desc: 'Unity visual effects', usage: 'GPU-driven particle systems and real-time simulations' },
                { id: 'niagara', label: 'Niagara', category: 'secondary', baseSize: 13,
                  desc: 'Unreal VFX system', usage: 'Complex particle effects for Unreal projects' },
                { id: 'threejs', label: 'Three.js', category: 'secondary', baseSize: 13,
                  desc: 'WebGL framework', usage: 'Interactive 3D web experiences and visualizations' },
                { id: 'webgl', label: 'WebGL', category: 'secondary', baseSize: 13,
                  desc: 'Browser graphics', usage: 'Custom shaders and real-time web graphics' },

                // Tools (muted)
                { id: 'renderdoc', label: 'RenderDoc', category: 'tool', baseSize: 11,
                  desc: 'Graphics debugger', usage: 'Frame analysis and shader debugging' },
                { id: 'nsight', label: 'NSight', category: 'tool', baseSize: 11,
                  desc: 'NVIDIA profiler', usage: 'GPU performance analysis and optimization' },
                { id: 'pix', label: 'PIX', category: 'tool', baseSize: 11,
                  desc: 'DirectX debugger', usage: 'Windows and Xbox graphics debugging' }
            ];

            // Reference dimension for scaling (sizes are designed for this)
            const BASE_DIMENSION = 400;
            let sizeScale = 1;

            // Connections between skills
            const connections = [
                ['unity', 'csharp'], ['unity', 'hlsl'], ['unity', 'urp'], ['unity', 'arvr'],
                ['unity', 'vfx'], ['unity', 'compute'],
                ['csharp', 'wpf'], ['csharp', 'compute'],
                ['hlsl', 'directx'], ['hlsl', 'opengl'], ['hlsl', 'vulkan'], ['hlsl', 'urp'],
                ['directx', 'renderdoc'], ['directx', 'pix'], ['directx', 'nsight'],
                ['opengl', 'vulkan'], ['opengl', 'webgl'],
                ['unreal', 'cpp'], ['unreal', 'niagara'], ['unreal', 'hlsl'],
                ['cpp', 'directx'], ['cpp', 'vulkan'],
                ['compute', 'vfx'], ['compute', 'hlsl'],
                ['threejs', 'webgl'], ['threejs', 'hlsl'],
                ['arvr', 'urp'], ['arvr', 'compute'],
                ['vfx', 'niagara'],
                ['python', 'unity']
            ];

            // Initialize node positions with unique animation properties
            let nodes = skills.map((skill, i) => {
                const angle = (i / skills.length) * Math.PI * 2;
                const radius = 150 + Math.random() * 50;
                return {
                    ...skill,
                    size: skill.baseSize, // Will be updated on resize
                    x: 0,
                    y: 0,
                    vx: 0,
                    vy: 0,
                    baseX: 0,
                    baseY: 0,
                    // Subtle animation parameters for gentle organic movement
                    floatSpeed: 0.15 + Math.random() * 0.15,
                    floatRadius: 1.5 + Math.random() * 2,
                    floatPhase: Math.random() * Math.PI * 2,
                    pulseSpeed: 0.3 + Math.random() * 0.3,
                    pulsePhase: Math.random() * Math.PI * 2,
                    rotation: Math.random() * Math.PI * 2,
                    rotationSpeed: (Math.random() - 0.5) * 0.003,
                    // Glow animation state
                    glowIntensity: 0,
                    targetGlowIntensity: 0,
                    glowDelay: 0
                };
            });

            let width, height, centerX, centerY;
            let isDragging = false;
            let dragNode = null;
            let hoveredNode = null;
            let mouseX = 0, mouseY = 0;
            let settled = false;
            let settleTimer = 0;

            // Tooltip element and connector line
            const tooltip = document.getElementById('skill-tooltip');
            const tooltipTitle = tooltip.querySelector('.skill-tooltip-title');
            const tooltipDesc = tooltip.querySelector('.skill-tooltip-desc');
            const tooltipUsage = tooltip.querySelector('.skill-tooltip-usage');

            let tooltipTarget = null; // Current node the tooltip is attached to
            let tooltipPos = { x: 0, y: 0 }; // Position for tooltip
            let tooltipConnectPoint = { x: 0, y: 0 }; // Connection point on tooltip edge
            let lineAnimProgress = 0; // Animation progress 0-1
            let lineAnimStartTime = 0;
            const lineAnimDuration = 300; // ms for line to draw
            let tooltipSide = 'right'; // 'left' or 'right'

            // Offset from node to tooltip (set once when tooltip appears)
            let tooltipOffset = { x: 0, y: 0 };
            const tooltipWidth = 260;
            const tooltipHeight = 120;

            function generateTooltipPosition(node) {
                const margin = 20;

                // Randomly choose left or right side
                tooltipSide = Math.random() > 0.5 ? 'right' : 'left';

                let tx, ty;

                if (tooltipSide === 'right') {
                    // Position on right side of canvas
                    tx = width - tooltipWidth - margin;
                } else {
                    // Position on left side of canvas
                    tx = margin;
                }

                // Random vertical position, but try to align somewhat with node
                const minY = margin;
                const maxY = height - tooltipHeight - margin;
                ty = node.y - tooltipHeight / 2 + (Math.random() - 0.5) * 100;
                ty = Math.max(minY, Math.min(maxY, ty));

                tooltipPos = { x: tx, y: ty };

                // Store offset from node position to tooltip position
                tooltipOffset = { x: tx - node.x, y: ty - node.y };

                // Connection point is on the edge facing the node
                if (tooltipSide === 'right') {
                    tooltipConnectPoint = {
                        x: tx,
                        y: ty + tooltipHeight / 2
                    };
                } else {
                    tooltipConnectPoint = {
                        x: tx + tooltipWidth,
                        y: ty + tooltipHeight / 2
                    };
                }

                // Start line animation
                lineAnimProgress = 0;
                lineAnimStartTime = performance.now();
            }

            function updateTooltipPositionForDrag(node) {
                // Update tooltip position maintaining the offset from the node
                const margin = 20;
                let tx = node.x + tooltipOffset.x;
                let ty = node.y + tooltipOffset.y;

                // Clamp to canvas bounds
                tx = Math.max(margin, Math.min(width - tooltipWidth - margin, tx));
                ty = Math.max(margin, Math.min(height - tooltipHeight - margin, ty));

                tooltipPos = { x: tx, y: ty };

                // Update connection point
                if (tooltipSide === 'right') {
                    tooltipConnectPoint = {
                        x: tx,
                        y: ty + tooltipHeight / 2
                    };
                } else {
                    tooltipConnectPoint = {
                        x: tx + tooltipWidth,
                        y: ty + tooltipHeight / 2
                    };
                }

                tooltip.style.left = tooltipPos.x + 'px';
                tooltip.style.top = tooltipPos.y + 'px';
            }

            function updateTooltip(node, forceKeep = false) {
                if (node) {
                    // Only generate new position if hovering a new node (and not dragging)
                    if (tooltipTarget !== node && !isDragging) {
                        tooltipTarget = node;
                        generateTooltipPosition(node);
                        // Hide tooltip initially - will show when line finishes
                        tooltip.classList.remove('visible');
                    }

                    tooltipTitle.textContent = node.label;
                    tooltipDesc.textContent = node.desc || '';
                    tooltipUsage.textContent = node.usage || '';

                    // Set category class for color (visible class added when line completes)
                    tooltip.className = 'skill-tooltip ' + node.category + (lineAnimProgress >= 1 ? ' visible' : '');

                    tooltip.style.left = tooltipPos.x + 'px';
                    tooltip.style.top = tooltipPos.y + 'px';
                } else if (!forceKeep) {
                    tooltip.classList.remove('visible');
                    tooltipTarget = null;
                    lineAnimProgress = 0;
                }
            }

            function drawTooltipConnector() {
                if (!tooltipTarget) return;

                // Update animation progress
                const elapsed = performance.now() - lineAnimStartTime;
                lineAnimProgress = Math.min(1, elapsed / lineAnimDuration);

                // Show tooltip when line completes
                if (lineAnimProgress >= 1 && !tooltip.classList.contains('visible')) {
                    tooltip.classList.add('visible');
                }

                const node = tooltipTarget;
                const nodeX = node.x;
                const nodeY = node.y;
                const connX = tooltipConnectPoint.x;
                const connY = tooltipConnectPoint.y;

                // Get line color based on category
                let lineColor;
                if (node.category === 'primary') {
                    lineColor = colors.gold;
                } else if (node.category === 'secondary') {
                    lineColor = colors.teal;
                } else {
                    lineColor = colors.textMuted;
                }

                ctx.strokeStyle = lineColor;
                ctx.lineWidth = 1.5;
                ctx.globalAlpha = 0.8;

                // Calculate the corner point for L-shape
                // First go vertical from node, then horizontal to tooltip
                const cornerX = nodeX;
                const cornerY = connY;

                // Calculate total line length for animation
                const verticalDist = Math.abs(cornerY - nodeY);
                const horizontalDist = Math.abs(connX - cornerX);
                const totalDist = verticalDist + horizontalDist;

                // How much of the line to draw based on animation progress
                const drawDist = totalDist * lineAnimProgress;

                ctx.beginPath();
                ctx.moveTo(nodeX, nodeY);

                if (drawDist <= verticalDist) {
                    // Still drawing vertical portion
                    const progress = drawDist / verticalDist;
                    const currentY = nodeY + (cornerY - nodeY) * progress;
                    ctx.lineTo(nodeX, currentY);
                } else {
                    // Vertical complete, drawing horizontal
                    ctx.lineTo(cornerX, cornerY);
                    const remainingDist = drawDist - verticalDist;
                    const horizontalProgress = remainingDist / horizontalDist;
                    const currentX = cornerX + (connX - cornerX) * horizontalProgress;
                    ctx.lineTo(currentX, cornerY);
                }

                ctx.stroke();
                ctx.globalAlpha = 1;

                // Draw small circle at node connection point
                ctx.beginPath();
                ctx.arc(nodeX, nodeY, 3, 0, Math.PI * 2);
                ctx.fillStyle = lineColor;
                ctx.fill();
            }

            function resize() {
                const rect = container.getBoundingClientRect();
                const dpr = window.devicePixelRatio || 1;
                width = rect.width;
                height = rect.height;
                canvas.width = width * dpr;
                canvas.height = height * dpr;
                canvas.style.width = width + 'px';
                canvas.style.height = height + 'px';
                ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
                centerX = width / 2;
                centerY = height / 2;
                settled = false;
                settleTimer = 0;

                // Calculate size scale based on canvas dimensions
                // Use the smaller dimension for scaling, with min/max limits
                const minDim = Math.min(width, height);
                sizeScale = Math.max(0.5, Math.min(1.2, minDim / BASE_DIMENSION));

                // Initialize positions in a more spread out pattern
                nodes.forEach((node, i) => {
                    const angle = (i / nodes.length) * Math.PI * 2 + Math.PI / 4;
                    const radius = Math.min(width, height) * 0.35;
                    node.x = centerX + Math.cos(angle) * radius * (0.6 + Math.random() * 0.4);
                    node.y = centerY + Math.sin(angle) * radius * (0.6 + Math.random() * 0.4);
                    node.baseX = node.x;
                    node.baseY = node.y;
                    node.vx = 0;
                    node.vy = 0;
                    // Update node size based on scale
                    node.size = node.baseSize * sizeScale;
                });
            }

            function getNodeAt(x, y) {
                for (let i = nodes.length - 1; i >= 0; i--) {
                    const node = nodes[i];
                    const dx = x - node.x;
                    const dy = y - node.y;
                    const hitRadius = node.size + 5;
                    if (dx * dx + dy * dy < hitRadius * hitRadius) {
                        return node;
                    }
                }
                return null;
            }

            function getConnectedNodes(node) {
                const connected = new Set();
                connections.forEach(([a, b]) => {
                    if (a === node.id) connected.add(b);
                    if (b === node.id) connected.add(a);
                });
                return connected;
            }

            // Physics simulation - stronger forces when dragging
            function simulate() {
                if (settled && !dragNode) return;

                // Scale physics parameters based on canvas size
                const scaleSquared = sizeScale * sizeScale;
                const repulsion = (dragNode ? 3500 : 1800) * scaleSquared;
                const attraction = dragNode ? 0.025 : 0.006;
                const damping = 0.88;
                const centerPull = 0.003;

                let totalMovement = 0;

                nodes.forEach(nodeA => {
                    if (nodeA === dragNode) return;

                    let fx = 0, fy = 0;

                    // Gentle repulsion from other nodes
                    nodes.forEach(nodeB => {
                        if (nodeA === nodeB) return;
                        const dx = nodeA.x - nodeB.x;
                        const dy = nodeA.y - nodeB.y;
                        const dist = Math.sqrt(dx * dx + dy * dy) || 1;
                        const minDist = (nodeA.size + nodeB.size + 40 * sizeScale);

                        if (dist < minDist * 2) {
                            const force = repulsion / (dist * dist);
                            fx += (dx / dist) * force;
                            fy += (dy / dist) * force;
                        }
                    });

                    // Gentle attraction along connections
                    connections.forEach(([a, b]) => {
                        let other = null;
                        if (a === nodeA.id) other = nodes.find(n => n.id === b);
                        if (b === nodeA.id) other = nodes.find(n => n.id === a);
                        if (other) {
                            const dx = other.x - nodeA.x;
                            const dy = other.y - nodeA.y;
                            const dist = Math.sqrt(dx * dx + dy * dy);
                            const idealDist = 120 * sizeScale; // Scale ideal distance
                            if (dist > idealDist) {
                                const strength = (dist - idealDist) * attraction;
                                fx += (dx / dist) * strength;
                                fy += (dy / dist) * strength;
                            }
                        }
                    });

                    // Pull toward center
                    fx += (centerX - nodeA.x) * centerPull;
                    fy += (centerY - nodeA.y) * centerPull;

                    // Apply forces with strong damping
                    nodeA.vx = (nodeA.vx + fx * 0.1) * damping;
                    nodeA.vy = (nodeA.vy + fy * 0.1) * damping;
                    nodeA.x += nodeA.vx;
                    nodeA.y += nodeA.vy;

                    totalMovement += Math.abs(nodeA.vx) + Math.abs(nodeA.vy);

                    // Keep within bounds
                    const padding = 50;
                    nodeA.x = Math.max(padding, Math.min(width - padding, nodeA.x));
                    nodeA.y = Math.max(padding, Math.min(height - padding, nodeA.y));

                    // Update base position for floating animation
                    nodeA.baseX = nodeA.x;
                    nodeA.baseY = nodeA.y;
                });

                // Settle quickly
                if (totalMovement < 0.3) {
                    settleTimer++;
                    if (settleTimer > 30) {
                        settled = true;
                    }
                } else {
                    settleTimer = 0;
                }
            }

            // Draw hexagonal node shape
            function drawHexagon(x, y, size, rotation) {
                ctx.beginPath();
                for (let i = 0; i < 6; i++) {
                    const angle = (i / 6) * Math.PI * 2 + rotation;
                    const px = x + Math.cos(angle) * size;
                    const py = y + Math.sin(angle) * size;
                    if (i === 0) ctx.moveTo(px, py);
                    else ctx.lineTo(px, py);
                }
                ctx.closePath();
            }

            // Draw rounded hexagon / organic shape
            function drawOrganicShape(x, y, size, rotation, pulse) {
                const points = 6;
                const vertices = [];

                for (let i = 0; i < points; i++) {
                    const angle = (i / points) * Math.PI * 2 + rotation;
                    const r = size * (0.95 + pulse * 0.05);
                    vertices.push({
                        x: x + Math.cos(angle) * r,
                        y: y + Math.sin(angle) * r
                    });
                }

                ctx.beginPath();
                // Draw with smooth curves between vertices
                for (let i = 0; i < points; i++) {
                    const curr = vertices[i];
                    const next = vertices[(i + 1) % points];
                    const midX = (curr.x + next.x) / 2;
                    const midY = (curr.y + next.y) / 2;

                    if (i === 0) {
                        ctx.moveTo(midX, midY);
                    }

                    const nextMidX = (next.x + vertices[(i + 2) % points].x) / 2;
                    const nextMidY = (next.y + vertices[(i + 2) % points].y) / 2;
                    ctx.quadraticCurveTo(next.x, next.y, nextMidX, nextMidY);
                }
                ctx.closePath();
            }

            // Track time for glow delays
            let lastHoveredNode = null;
            let hoverStartTime = 0;

            function draw() {
                ctx.clearRect(0, 0, width, height);
                time += 0.016;

                const connectedToHovered = hoveredNode ? getConnectedNodes(hoveredNode) : new Set();

                // Reset glow delay timer when hover changes
                if (hoveredNode !== lastHoveredNode) {
                    hoverStartTime = time;
                    lastHoveredNode = hoveredNode;
                }

                const timeSinceHover = time - hoverStartTime;

                // Update glow intensities with smooth transitions
                nodes.forEach(node => {
                    const isHovered = node === hoveredNode;
                    const isConnected = connectedToHovered.has(node.id);

                    // Set target glow intensity
                    if (isHovered) {
                        node.targetGlowIntensity = 1;
                        node.glowDelay = 0;
                    } else if (isConnected) {
                        node.targetGlowIntensity = 0.6;
                        node.glowDelay = 0.15; // 150ms delay for connected nodes
                    } else {
                        node.targetGlowIntensity = 0;
                        node.glowDelay = 0;
                    }

                    // Smoothly interpolate glow intensity with delay
                    const effectiveTime = Math.max(0, timeSinceHover - node.glowDelay);
                    if (effectiveTime > 0 || node.targetGlowIntensity === 0) {
                        const lerpSpeed = node.targetGlowIntensity > node.glowIntensity ? 0.08 : 0.12;
                        node.glowIntensity += (node.targetGlowIntensity - node.glowIntensity) * lerpSpeed;
                    }

                    // Clamp very small values to 0
                    if (node.glowIntensity < 0.01) node.glowIntensity = 0;
                });

                // Apply floating animation to settled nodes
                if (settled && !dragNode) {
                    nodes.forEach(node => {
                        const floatX = Math.sin(time * node.floatSpeed + node.floatPhase) * node.floatRadius;
                        const floatY = Math.cos(time * node.floatSpeed * 0.7 + node.floatPhase) * node.floatRadius;
                        node.x = node.baseX + floatX;
                        node.y = node.baseY + floatY;
                        node.rotation += node.rotationSpeed;
                    });
                }

                // Draw connections with gradient and mouse light
                connections.forEach(([a, b]) => {
                    const nodeA = nodes.find(n => n.id === a);
                    const nodeB = nodes.find(n => n.id === b);
                    if (!nodeA || !nodeB) return;

                    const isHighlighted = hoveredNode &&
                        (hoveredNode.id === a || hoveredNode.id === b);

                    // Create gradient along connection
                    const gradient = ctx.createLinearGradient(nodeA.x, nodeA.y, nodeB.x, nodeB.y);

                    if (isHighlighted) {
                        gradient.addColorStop(0, 'rgba(45, 212, 191, 0.7)');
                        gradient.addColorStop(0.5, 'rgba(232, 185, 35, 0.5)');
                        gradient.addColorStop(1, 'rgba(45, 212, 191, 0.7)');
                        ctx.lineWidth = 2.5;
                    } else {
                        const baseAlpha = hoveredNode ? 0.05 : 0.15;
                        gradient.addColorStop(0, `rgba(45, 212, 191, ${baseAlpha})`);
                        gradient.addColorStop(0.5, `rgba(255, 255, 255, ${baseAlpha * 0.5})`);
                        gradient.addColorStop(1, `rgba(232, 185, 35, ${baseAlpha})`);
                        ctx.lineWidth = 1;
                    }

                    ctx.beginPath();
                    ctx.moveTo(nodeA.x, nodeA.y);
                    ctx.lineTo(nodeB.x, nodeB.y);
                    ctx.strokeStyle = gradient;
                    ctx.stroke();
                });

                // Draw nodes
                nodes.forEach(node => {
                    const isHovered = node === hoveredNode;
                    const isConnected = connectedToHovered.has(node.id);
                    const isDimmed = hoveredNode && !isHovered && !isConnected;

                    // Subtle pulse animation
                    const pulse = Math.sin(time * node.pulseSpeed + node.pulsePhase);
                    const sizeBoost = node.glowIntensity * 3; // Smooth size increase
                    const displaySize = node.size + pulse * 0.5 + sizeBoost;

                    // Get colors based on category
                    let glowColor;
                    if (node.category === 'primary') {
                        glowColor = colors.gold;
                    } else if (node.category === 'secondary') {
                        glowColor = colors.teal;
                    } else {
                        glowColor = colors.textMuted;
                    }

                    ctx.globalAlpha = isDimmed ? 0.25 : 1;

                    // Smooth glow effect based on glowIntensity
                    if (node.glowIntensity > 0.01) {
                        const glowSize = displaySize * (1.8 + node.glowIntensity * 0.5);
                        const glowGradient = ctx.createRadialGradient(
                            node.x, node.y, displaySize * 0.5,
                            node.x, node.y, glowSize
                        );
                        // Reduced glow intensity (was 0.5/0.3, now 0.25 max)
                        const glowAlpha = node.glowIntensity * 0.25;
                        glowGradient.addColorStop(0, `${glowColor}${Math.floor(glowAlpha * 255).toString(16).padStart(2, '0')}`);
                        glowGradient.addColorStop(0.5, `${glowColor}${Math.floor(glowAlpha * 128).toString(16).padStart(2, '0')}`);
                        glowGradient.addColorStop(1, 'transparent');
                        ctx.fillStyle = glowGradient;
                        ctx.beginPath();
                        ctx.arc(node.x, node.y, glowSize, 0, Math.PI * 2);
                        ctx.fill();
                    }

                    // Draw organic hexagonal shape
                    drawOrganicShape(node.x, node.y, displaySize, node.rotation, pulse * 0.5 + 0.5);

                    // Fill with gradient
                    const nodeGradient = ctx.createRadialGradient(
                        node.x - displaySize * 0.3, node.y - displaySize * 0.3, 0,
                        node.x, node.y, displaySize * 1.2
                    );

                    if (node.category === 'primary') {
                        nodeGradient.addColorStop(0, 'hsl(45, 85%, 65%)');
                        nodeGradient.addColorStop(0.5, colors.gold);
                        nodeGradient.addColorStop(1, colors.goldDim);
                    } else if (node.category === 'secondary') {
                        nodeGradient.addColorStop(0, 'hsl(168, 75%, 55%)');
                        nodeGradient.addColorStop(0.5, colors.teal);
                        nodeGradient.addColorStop(1, colors.tealDim);
                    } else {
                        nodeGradient.addColorStop(0, 'hsl(210, 10%, 55%)');
                        nodeGradient.addColorStop(0.5, colors.textMuted);
                        nodeGradient.addColorStop(1, '#4a5058');
                    }

                    ctx.fillStyle = nodeGradient;
                    ctx.fill();

                    // Inner highlight
                    ctx.beginPath();
                    ctx.arc(node.x - displaySize * 0.2, node.y - displaySize * 0.2, displaySize * 0.25, 0, Math.PI * 2);
                    ctx.fillStyle = 'rgba(255, 255, 255, 0.15)';
                    ctx.fill();

                    // Border - smooth transition based on glow intensity
                    drawOrganicShape(node.x, node.y, displaySize, node.rotation, pulse * 0.5 + 0.5);
                    const borderAlpha = 0.15 + node.glowIntensity * 0.35;
                    const borderWidth = 1 + node.glowIntensity * 0.8;
                    ctx.strokeStyle = `rgba(255, 255, 255, ${borderAlpha})`;
                    ctx.lineWidth = borderWidth;
                    ctx.stroke();

                    // Label with background - smooth font weight transition, scaled for screen size
                    const labelOffset = 12 * sizeScale + 6;
                    const labelY = node.y + displaySize + labelOffset;
                    const fontWeight = node.glowIntensity > 0.5 ? '600' : '500';
                    const baseFontSize = 8 + 2 * sizeScale; // Scale font size with screen
                    const fontSize = baseFontSize + node.glowIntensity;
                    ctx.font = `${fontWeight} ${fontSize}px "JetBrains Mono", monospace`;
                    ctx.textAlign = 'center';
                    ctx.textBaseline = 'middle';

                    const textWidth = ctx.measureText(node.label).width;
                    const paddingX = 3 * sizeScale + 1;
                    const paddingY = 5 * sizeScale + 2;

                    // Label background
                    ctx.fillStyle = `rgba(21, 29, 38, ${isDimmed ? 0.5 : 0.8})`;
                    ctx.beginPath();
                    ctx.roundRect(node.x - textWidth / 2 - paddingX, labelY - paddingY, textWidth + paddingX * 2, paddingY * 2, 3);
                    ctx.fill();

                    // Label text
                    ctx.fillStyle = isDimmed ? colors.textMuted : colors.textPrimary;
                    ctx.fillText(node.label, node.x, labelY);

                    ctx.globalAlpha = 1;
                });

                // Draw tooltip connector line after nodes
                drawTooltipConnector();
            }

            function animate() {
                simulate();
                draw();
                requestAnimationFrame(animate);
            }

            // Event handlers
            canvas.addEventListener('mousedown', (e) => {
                const rect = canvas.getBoundingClientRect();
                mouseX = e.clientX - rect.left;
                mouseY = e.clientY - rect.top;
                dragNode = getNodeAt(mouseX, mouseY);
                if (dragNode) {
                    isDragging = true;
                    settled = false;
                    container.style.cursor = 'grabbing';
                    // If we're starting to drag a node that has tooltip, set it as target
                    if (hoveredNode === dragNode && !tooltipTarget) {
                        tooltipTarget = dragNode;
                        generateTooltipPosition(dragNode);
                    }
                }
            });

            canvas.addEventListener('mousemove', (e) => {
                const rect = canvas.getBoundingClientRect();
                mouseX = e.clientX - rect.left;
                mouseY = e.clientY - rect.top;

                if (isDragging && dragNode) {
                    dragNode.x = mouseX;
                    dragNode.y = mouseY;
                    dragNode.baseX = mouseX;
                    dragNode.baseY = mouseY;
                    dragNode.vx = 0;
                    dragNode.vy = 0;
                    settled = false;
                    settleTimer = 0;
                    // Update tooltip position to follow the dragged node
                    if (tooltipTarget === dragNode) {
                        updateTooltipPositionForDrag(dragNode);
                    }
                } else {
                    hoveredNode = getNodeAt(mouseX, mouseY);
                    container.style.cursor = hoveredNode ? 'pointer' : 'grab';
                    updateTooltip(hoveredNode);
                }
            });

            canvas.addEventListener('mouseup', () => {
                isDragging = false;
                dragNode = null;
                container.style.cursor = hoveredNode ? 'pointer' : 'grab';
            });

            canvas.addEventListener('mouseleave', () => {
                isDragging = false;
                dragNode = null;
                hoveredNode = null;
                container.style.cursor = 'grab';
                updateTooltip(null);
            });

            // Touch support
            canvas.addEventListener('touchstart', (e) => {
                e.preventDefault();
                const touch = e.touches[0];
                const rect = canvas.getBoundingClientRect();
                mouseX = touch.clientX - rect.left;
                mouseY = touch.clientY - rect.top;
                dragNode = getNodeAt(mouseX, mouseY);
                if (dragNode) {
                    isDragging = true;
                    settled = false;
                    // Show tooltip for touched node
                    tooltipTarget = dragNode;
                    generateTooltipPosition(dragNode);
                    updateTooltip(dragNode);
                }
            }, { passive: false });

            canvas.addEventListener('touchmove', (e) => {
                e.preventDefault();
                if (!isDragging || !dragNode) return;
                const touch = e.touches[0];
                const rect = canvas.getBoundingClientRect();
                dragNode.x = touch.clientX - rect.left;
                dragNode.y = touch.clientY - rect.top;
                dragNode.baseX = dragNode.x;
                dragNode.baseY = dragNode.y;
                dragNode.vx = 0;
                dragNode.vy = 0;
                settled = false;
                // Update tooltip position to follow the dragged node
                if (tooltipTarget === dragNode) {
                    updateTooltipPositionForDrag(dragNode);
                }
            }, { passive: false });

            canvas.addEventListener('touchend', () => {
                isDragging = false;
                dragNode = null;
            });

            // Initialize
            window.addEventListener('resize', resize);
            resize();
            animate();
        })();

        // Counting animation for stats
        (function() {
            const stats = document.querySelectorAll('.stat-number[data-target]');

            stats.forEach((stat, index) => {
                const target = parseInt(stat.dataset.target);
                const suffix = stat.dataset.suffix || '';
                let current = 0;
                const duration = 1500; // ms
                const startDelay = 600 + index * 200; // Stagger start
                const stepTime = duration / target;

                setTimeout(() => {
                    const interval = setInterval(() => {
                        current++;
                        stat.textContent = current + (current === target ? suffix : '');

                        if (current >= target) {
                            clearInterval(interval);
                        }
                    }, stepTime);
                }, startDelay);
            });
        })();

        // Staggered reveal animation for clients and projects
        (function() {
            const clientCards = document.querySelectorAll('.client-card');
            const testimonialCards = document.querySelectorAll('.testimonial-card');
            const projectCards = document.querySelectorAll('.project-card');

            // Stagger client cards animation
            clientCards.forEach((card, i) => {
                card.style.animationDelay = `${0.6 + i * 0.08}s`;
            });

            // Stagger testimonial cards animation
            testimonialCards.forEach((card, i) => {
                card.style.animationDelay = `${0.6 + i * 0.15}s`;
            });

            // Stagger project cards animation
            projectCards.forEach((card, i) => {
                card.style.animationDelay = `${0.6 + i * 0.12}s`;
            });
        })();

        // Portfolio carousel functionality
        (function() {
            const slides = document.querySelectorAll('.portfolio-slide');
            const thumbs = document.querySelectorAll('.portfolio-thumb');
            const prevBtn = document.querySelector('.portfolio-nav.prev');
            const nextBtn = document.querySelector('.portfolio-nav.next');
            const currentSpan = document.getElementById('portfolio-current');
            const thumbnailsContainer = document.getElementById('portfolio-thumbnails');

            let currentIndex = 0;
            const totalSlides = slides.length;

            function goToSlide(index) {
                // Handle wrap-around
                if (index < 0) index = totalSlides - 1;
                if (index >= totalSlides) index = 0;

                // Update slides
                slides.forEach((slide, i) => {
                    slide.classList.toggle('active', i === index);
                });

                // Update thumbnails
                thumbs.forEach((thumb, i) => {
                    thumb.classList.toggle('active', i === index);
                });

                // Scroll thumbnail into view
                if (thumbs[index] && thumbnailsContainer) {
                    const thumb = thumbs[index];
                    const containerRect = thumbnailsContainer.getBoundingClientRect();
                    const thumbRect = thumb.getBoundingClientRect();

                    if (thumbRect.left < containerRect.left || thumbRect.right > containerRect.right) {
                        thumb.scrollIntoView({ behavior: 'smooth', inline: 'center', block: 'nearest' });
                    }
                }

                // Update counter
                if (currentSpan) currentSpan.textContent = index + 1;

                currentIndex = index;
            }

            // Navigation buttons
            if (prevBtn) prevBtn.addEventListener('click', () => goToSlide(currentIndex - 1));
            if (nextBtn) nextBtn.addEventListener('click', () => goToSlide(currentIndex + 1));

            // Thumbnail clicks
            thumbs.forEach((thumb, i) => {
                thumb.addEventListener('click', () => goToSlide(i));
            });

            // Keyboard navigation when portfolio panel is visible
            document.addEventListener('keydown', (e) => {
                const portfolioPanel = document.getElementById('panel-portfolio');
                if (!portfolioPanel || !portfolioPanel.classList.contains('active')) return;

                if (e.key === 'ArrowLeft') goToSlide(currentIndex - 1);
                if (e.key === 'ArrowRight') goToSlide(currentIndex + 1);
            });

            // Touch swipe support
            let touchStartX = 0;
            let touchEndX = 0;
            const portfolioMain = document.querySelector('.portfolio-main');

            if (portfolioMain) {
                portfolioMain.addEventListener('touchstart', (e) => {
                    touchStartX = e.changedTouches[0].screenX;
                }, { passive: true });

                portfolioMain.addEventListener('touchend', (e) => {
                    touchEndX = e.changedTouches[0].screenX;
                    const diff = touchStartX - touchEndX;
                    if (Math.abs(diff) > 50) {
                        if (diff > 0) goToSlide(currentIndex + 1);
                        else goToSlide(currentIndex - 1);
                    }
                }, { passive: true });
            }
        })();

        // Typewriter effect with typos
        (function() {
            const container = document.getElementById('typewriter-container');
            const typingIndicator = document.getElementById('typing-indicator');
            const dots = typingIndicator ? typingIndicator.querySelectorAll('.typing-dots span') : [];
            if (!container) return;

            const fullText = [
                { text: 'I run ', highlight: false },
                { text: 'Zylaris Ltd', highlight: true },
                { text: ', a specialized consultancy delivering high-performance graphics solutions for games, VR, and immersive installations. From ', highlight: false },
                { text: 'GPU-based light baking', highlight: true },
                { text: ' using SDFs to ', highlight: false },
                { text: '16K projection-mapped environments', highlight: true },
                { text: ', I help studios push the boundaries of real-time rendering across mobile, desktop, VR, and web platforms. I\'ve shipped graphics systems for studios including Nexus, Ubisoft, 22cans, and The Sandbox.', highlight: false }
            ];

            // Define typos: [position in full string, wrong char, correct char]
            const typos = [
                { pos: 15, wrong: 'x', correct: 'c' },      // "speciaxized" -> "specialized"
                { pos: 78, wrong: 'f', correct: 'g' },      // "fames" -> "games"
                { pos: 142, wrong: 'b', correct: 'p' },     // "berformance" -> "performance"
                { pos: 245, wrong: 'r', correct: 't' },     // "srudios" -> "studios"
            ];

            let cursor = document.createElement('span');
            cursor.className = 'typewriter-cursor';
            container.appendChild(cursor);

            let globalPos = 0;
            let segmentIndex = 0;
            let charIndex = 0;
            let currentSpan = null;
            let typoQueue = [...typos].sort((a, b) => a.pos - b.pos);
            let isDeleting = false;
            let deleteCount = 0;
            let typoChar = null;
            let dotIndex = 0;
            let dotInterval = null;

            // Animate dots: 0 -> 1 -> 2 -> 3 -> 0 -> 1 -> 2 -> 3
            function animateDots() {
                if (!dots.length) return;

                // Reset all dots
                dots.forEach((dot, i) => {
                    dot.classList.toggle('visible', i < dotIndex);
                });

                dotIndex++;
                if (dotIndex > 3) dotIndex = 0;
            }

            // Start dot animation
            dotInterval = setInterval(animateDots, 300);

            function getBaseDelay() {
                return 12 + Math.random() * 18; // Faster: was 25-60, now 12-30
            }

            function finishTyping() {
                cursor.classList.add('hidden');
                if (typingIndicator) {
                    typingIndicator.classList.add('hidden');
                }
                if (dotInterval) {
                    clearInterval(dotInterval);
                }
            }

            function type() {
                if (segmentIndex >= fullText.length) {
                    finishTyping();
                    return;
                }

                const segment = fullText[segmentIndex];

                // Create span for new segment
                if (!currentSpan) {
                    currentSpan = document.createElement('span');
                    if (segment.highlight) {
                        currentSpan.className = 'highlight-text';
                    }
                    container.insertBefore(currentSpan, cursor);
                }

                // Check for typo at current position
                const currentTypo = typoQueue[0];
                if (currentTypo && globalPos === currentTypo.pos && !isDeleting && !typoChar) {
                    // Type wrong character
                    typoChar = document.createElement('span');
                    typoChar.className = 'typo-char';
                    typoChar.textContent = currentTypo.wrong;
                    currentSpan.appendChild(typoChar);
                    globalPos++;
                    charIndex++;

                    // Schedule delete after brief pause
                    setTimeout(() => {
                        isDeleting = true;
                        deleteCount = 1;
                        setTimeout(type, 80 + Math.random() * 50);
                    }, 120 + Math.random() * 80);
                    return;
                }

                // Handle deleting typo
                if (isDeleting && deleteCount > 0) {
                    if (typoChar) {
                        typoChar.remove();
                        typoChar = null;
                    }
                    globalPos--;
                    charIndex--;
                    deleteCount--;
                    isDeleting = false;
                    typoQueue.shift(); // Remove processed typo
                    setTimeout(type, 50);
                    return;
                }

                // Normal typing
                if (charIndex < segment.text.length) {
                    currentSpan.textContent += segment.text[charIndex];
                    charIndex++;
                    globalPos++;

                    // Variable delay - slower for punctuation
                    let delay = getBaseDelay();
                    const char = segment.text[charIndex - 1];
                    if (['.', ',', '!', '?'].includes(char)) {
                        delay += 80 + Math.random() * 60;
                    } else if (char === ' ') {
                        delay += Math.random() * 15;
                    }

                    setTimeout(type, delay);
                } else {
                    // Move to next segment
                    segmentIndex++;
                    charIndex = 0;
                    currentSpan = null;
                    setTimeout(type, getBaseDelay());
                }
            }

            // Start after a delay
            setTimeout(type, 500);
        })();

        // Project List Scroll Handler
        (function() {
            const wrapper = document.getElementById('project-list-wrapper');
            const list = document.getElementById('project-list');
            const hint = wrapper ? wrapper.querySelector('.scroll-hint') : null;
            if (!wrapper || !list) return;

            function updateScrollState() {
                const scrollPos = list.scrollTop;
                const maxScroll = list.scrollHeight - list.clientHeight;

                // Remove all scroll state classes
                wrapper.classList.remove('scrolled-top', 'scrolled-middle', 'scrolled-end');

                if (scrollPos <= 10) {
                    // At top - no top fade, show bottom fade
                    wrapper.classList.add('scrolled-top');
                    if (hint) hint.style.opacity = '0.7';
                } else if (scrollPos >= maxScroll - 10) {
                    // At bottom - show top fade, no bottom fade
                    wrapper.classList.add('scrolled-end');
                    if (hint) hint.style.opacity = '0';
                } else {
                    // In middle - show both fades
                    wrapper.classList.add('scrolled-middle');
                    if (hint) hint.style.opacity = '0.5';
                }
            }

            list.addEventListener('scroll', updateScrollState);
            updateScrollState(); // Initial state
        })();

        // Tabbed Carousel
        (function() {
            const tabs = document.querySelectorAll('.carousel-tab');
            const panels = document.querySelectorAll('.carousel-panel');

            if (!tabs.length || !panels.length) return;

            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const panelId = tab.dataset.panel;

                    // Update active tab
                    tabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');

                    // Update active panel with animation
                    panels.forEach(panel => {
                        if (panel.id === `panel-${panelId}`) {
                            panel.classList.add('active');
                            // Re-trigger animations for elements in this panel
                            triggerPanelAnimations(panel);
                        } else {
                            panel.classList.remove('active');
                        }
                    });

                    // Reinitialize skill graph canvas if switching to skills panel
                    if (panelId === 'skills') {
                        const canvas = document.getElementById('skill-graph-canvas');
                        if (canvas) {
                            // Trigger resize to reinitialize
                            window.dispatchEvent(new Event('resize'));
                        }
                    }
                });
            });

            function triggerPanelAnimations(panel) {
                // Reset and re-trigger animations for client cards
                const clientCards = panel.querySelectorAll('.client-card');
                clientCards.forEach((card, i) => {
                    card.style.animation = 'none';
                    card.offsetHeight; // Trigger reflow
                    card.style.animation = '';
                    card.style.animationDelay = `${i * 0.08}s`;
                });

                // Reset and re-trigger animations for testimonial cards
                const testimonialCards = panel.querySelectorAll('.testimonial-card');
                testimonialCards.forEach((card, i) => {
                    card.style.animation = 'none';
                    card.offsetHeight; // Trigger reflow
                    card.style.animation = '';
                    card.style.animationDelay = `${i * 0.15}s`;
                });

                // Reset and re-trigger animations for project cards
                const projectCards = panel.querySelectorAll('.project-card');
                projectCards.forEach((card, i) => {
                    card.style.animation = 'none';
                    card.offsetHeight; // Trigger reflow
                    card.style.animation = '';
                    card.style.animationDelay = `${i * 0.12}s`;
                });
            }
        })();
    </script>
</body>
</html>